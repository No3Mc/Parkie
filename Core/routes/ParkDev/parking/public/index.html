<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parkie - Parking</title>
    <!-- favicon -->
    <link
      rel="shortcut icon"
      type="image/png"
      href="https://i.postimg.cc/NMbHx9JP/favicon.png"
    />
    <!-- leaflet -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
      integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
      integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
      crossorigin=""
    ></script>
    <!-- client js -->
    <script src="script.js" defer></script>
    <!-- style css -->
    <link rel="stylesheet" href="style/style.css" />
  </head>
  <body>
    <!-- header -->
            <!-- nav -->
            <nav class="navbar">
              <div class="brand-title"><a href="index.html">Parkie</a></div>
              <a href="#" class="toggle-button" title="Toggle Button">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
              </a>
              <div class="navbar-links">
                <ul>
                  <li>
                    <a href="">How it works?</a>
                  </li>
                  <li><a href="#">Lend space</a></li>
                  <li><a href="#">Business solution</a></li>
                  <li><a href="routes/CustDev/AbtPro/AboutUs.html">Company</a></li>
                  <li><a href="routes/CustDev/VulFaq/DocnFAQ.html">Help</a></li>
                  <li>
                    <a id="login-button" class="login-button" href="histroy.html">Histroy <img src="https://i.postimg.cc/kG3H36Nk/history.png" height="15px" width="15px" style="transform: translate(0px, 3.35px);"></a>
        
                    </a>
                  </li>
        
                  <li>
                    <a href="routes/CustDev/LogReg/Register.html"
                      ><b class="reg-btn"
                        >Sign Up
                        <!-- <span class="material-symbols-outlined"> arrow_right_alt </span> -->
                      </b></a
                    >
                  </li>
                </ul>
              </div>
            </nav>

    <!-- mainbody map -->
    <div class="main-body">
      <div id="map" style="height: 800px; width: 90%"></div>
    </div>

    <!-- locate me btn -->
    <button id="locateME">
      <img
        src="https://i.postimg.cc/xTgzWrnR/near-me.png"
        alt="L"
        height="25px"
        width="25px"
      />
    </button>

    <!-- footer -->
    <div id="footer-placeholder"></div>

    <script>
      let headerLoaded = false;
      let footerLoaded = false;

      // Fetch header content if not already loaded
      if (!headerLoaded) {
        fetch("structure/header.html")
          .then((response) => response.text())
          .then((content) => {
            document.querySelector("#header-placeholder").innerHTML = content;
            headerLoaded = true;
          });
      }

      // Fetch footer content if not already loaded
      if (!footerLoaded) {
        fetch("structure/footer.html")
          .then((response) => response.text())
          .then((content) => {
            document.querySelector("#footer-placeholder").innerHTML = content;
            footerLoaded = true;
          });
      }

      // confirmation alert
      const urlParams = new URLSearchParams(window.location.search);
      const success = urlParams.get("success");
      // Check if the alert has already been shown
      const alertShown = sessionStorage.getItem("alertShown");
      if (success === "true" && !alertShown) {
        alert("Booking & Payment Successful ðŸŽ‰ðŸŽ‰ðŸŽ‰ ");
        sessionStorage.setItem("alertShown", "true");
      }
    </script>
  </body>
</html>
